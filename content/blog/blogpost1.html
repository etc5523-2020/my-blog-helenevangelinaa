---
title: "COVID-19 Cases in Spain"
author: "Helen Evangelina"
date: "31/08/2020"
categories: ["R"]
tags: ["R Markdown", "plot", "regression"]
output: 
  blogdown::html_page:
    fig_width: 6
    dev: "svg"
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/pymjs/pym.v1.js"></script>
<script src="/rmarkdown-libs/widgetframe-binding/widgetframe.js"></script>


<pre class="r"><code>#installing package
#devtools::install_github(&quot;joachim-gassen/tidycovid19&quot;)
library(tidyverse)</code></pre>
<pre><code>## -- Attaching packages ----------</code></pre>
<pre><code>## v ggplot2 3.3.2     v purrr   0.3.4
## v tibble  3.0.3     v dplyr   1.0.2
## v tidyr   1.1.2     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.5.0</code></pre>
<pre><code>## -- Conflicts -------------------
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(tidycovid19)
library(zoo)</code></pre>
<pre><code>## 
## Attaching package: &#39;zoo&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric</code></pre>
<pre class="r"><code>library(ggplot2)
library(kableExtra)</code></pre>
<pre><code>## 
## Attaching package: &#39;kableExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     group_rows</code></pre>
<pre class="r"><code>library(DT)
library(bookdown)
library(blogdown)</code></pre>
<pre class="r"><code>covid_data_spain &lt;- download_merged_data(cached = TRUE, silent = TRUE) %&gt;%
  filter(country == &quot;Spain&quot;)</code></pre>
<div id="data-description" class="section level2">
<h2>Data Description</h2>
<p>The data is taken from <a href="https://github.com/joachim-gassen/tidycovid19" class="uri">https://github.com/joachim-gassen/tidycovid19</a></p>
</div>
<div id="data-story" class="section level2">
<h2>Data Story</h2>
<pre class="r"><code>data_wrangled &lt;- covid_data_spain %&gt;% 
  mutate(confirmed_lag = lag(confirmed),
         daily_confirmed = confirmed - confirmed_lag,
         death_lag = lag(deaths),
         daily_death = deaths - death_lag,
         recovered_lag = lag(recovered),
         daily_recovered = recovered - recovered_lag)</code></pre>
<pre class="r"><code>data_wrangled %&gt;%
  select(date, confirmed, deaths, recovered, daily_confirmed, daily_death, daily_recovered) %&gt;%
  datatable(options = list(pageLength = 5)) %&gt;% 
  widgetframe::frameWidget()</code></pre>
<div class="figure"><span id="fig:figure1"></span>
<div id="htmlwidget-1" style="width:100%;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"url":"/blog/blogpost1_files/figure-html//widgets/widget_figure1.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 1: aaa
</p>
</div>
<p>The table shown in Figure <a href="#fig:figure1">1</a>.</p>
</div>
