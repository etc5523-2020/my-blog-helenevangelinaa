---
title: "COVID-19 Cases in Spain"
author: "Helen Evangelina"
date: "31/08/2020"
output: html_document
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/datatables-binding/datatables.js"></script>
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="/rmarkdown-libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>


<pre class="r"><code>#installing package
#devtools::install_github(&quot;joachim-gassen/tidycovid19&quot;)
library(tidyverse)</code></pre>
<pre><code>## -- Attaching packages ------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.2     v purrr   0.3.4
## v tibble  3.0.3     v dplyr   1.0.2
## v tidyr   1.1.2     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.5.0</code></pre>
<pre><code>## -- Conflicts ---------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(tidycovid19)
library(zoo)</code></pre>
<pre><code>## 
## Attaching package: &#39;zoo&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric</code></pre>
<pre class="r"><code>library(ggplot2)
library(kableExtra)</code></pre>
<pre><code>## 
## Attaching package: &#39;kableExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     group_rows</code></pre>
<pre class="r"><code>library(DT)</code></pre>
<pre class="r"><code>covid_data_spain &lt;- download_merged_data(cached = TRUE, silent = TRUE) %&gt;%
  filter(country == &quot;Spain&quot;)</code></pre>
<div id="data-description" class="section level2">
<h2>Data Description</h2>
<p>The data is taken from <a href="https://github.com/joachim-gassen/tidycovid19" class="uri">https://github.com/joachim-gassen/tidycovid19</a></p>
</div>
<div id="data-story" class="section level2">
<h2>Data Story</h2>
<pre class="r"><code>data_wrangled &lt;- covid_data_spain %&gt;% 
  mutate(confirmed_lag = lag(confirmed),
         daily_confirmed = confirmed - confirmed_lag,
         death_lag = lag(deaths),
         daily_death = deaths - death_lag,
         recovered_lag = lag(recovered),
         daily_recovered = recovered - recovered_lag)</code></pre>
<pre class="r"><code>data_table1 &lt;- data_wrangled %&gt;%
  select(date, confirmed, deaths, recovered, daily_confirmed, daily_death, daily_recovered)</code></pre>
<pre class="r"><code>DT::datatable(data_table1, options = list(pageLength = 4))</code></pre>
<div id="htmlwidget-1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222"],["2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30"],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,6,13,15,32,45,84,120,165,222,259,400,500,673,1073,1695,2277,2277,5232,6391,7798,9942,11748,13910,17963,20410,25374,28768,35136,39885,49515,57786,65719,73235,80110,87956,95923,104118,112065,119199,126168,131646,136675,141942,148220,153222,158273,163027,166831,170099,172541,177644,184948,190839,191726,198674,200210,204178,208389,213024,202990,205905,207634,209465,210773,212917,213435,215216,216582,217466,218011,219329,220325,221447,222857,223578,224350,227436,228030,228691,229540,230183,230698,230698,231606,232037,232555,233037,234824,235290,235772,235400,236259,236259,237906,238564,239228,239479,239638,239932,240326,240660,240978,241310,241550,241717,241966,242280,242707,243209,243605,243928,244109,244328,244683,245268,245575,245938,246272,246504,246752,247086,247486,247905,248469,248770,248970,249271,249659,250103,250545,250545,250545,251789,252130,252513,253056,253908,253908,253908,255953,256619,257494,258855,260255,260255,260255,264836,266194,267551,270166,272421,272421,272421,278782,280610,282641,285430,288522,288522,288522,297054,302814,305767,309855,314362,314362,314362,322980,326612,329784,337334,342813,342813,342813,359082,364196,370867,377906,386054,386054,386054,405436,412553,419849,429507,439286,439286,null],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,5,10,17,28,35,54,55,133,195,289,342,533,623,830,1043,1375,1772,2311,2808,3647,4365,5138,5982,6803,7716,8464,9387,10348,11198,11947,12641,13341,14045,14792,15447,16081,16606,17209,17756,18056,18708,19315,20002,20043,20453,20852,21282,21717,22157,22524,22902,23190,23521,23822,24275,24543,24543,25100,25264,25428,25613,25857,26070,26299,26478,26621,26744,26920,27104,27321,27459,27563,27563,27709,27778,27888,27940,28628,28678,28752,26834,27117,27117,27119,27121,27125,27127,27127,27127,27128,27133,27134,27135,27136,27136,27136,27136,27136,27136,27136,27136,27136,27136,27136,27136,28315,28322,28323,28324,28325,28327,28330,28338,28341,28343,28346,28355,28364,28368,28385,28385,28385,28388,28392,28396,28401,28403,28403,28403,28406,28409,28413,28416,28420,28420,28420,28422,28424,28426,28429,28432,28432,28432,28434,28436,28441,28443,28445,28445,28445,28472,28498,28499,28500,28503,28503,28503,28576,28581,28579,28605,28617,28617,28617,28646,28670,28797,28813,28838,28838,28838,28872,28924,28971,28996,29011,29011,null],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,30,30,32,32,183,183,193,517,517,530,1028,1081,1107,1588,2125,2575,2575,3794,5367,7015,9357,12285,14709,16780,19259,22647,26743,30513,34219,38080,40437,43208,48021,52165,55668,59109,62391,64727,67504,70853,74797,74797,74797,77357,80587,82514,85915,89250,92355,95708,98372,100875,102548,108947,112050,112050,117248,118902,121343,123486,126002,128511,131148,133952,136166,137139,138980,140823,143374,144783,146446,146446,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,150376,null],[null,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,7,2,17,13,39,36,45,57,37,141,100,173,400,622,582,0,2955,1159,1407,2144,1806,2162,4053,2447,4964,3394,6368,4749,9630,8271,7933,7516,6875,7846,7967,8195,7947,7134,6969,5478,5029,5267,6278,5002,5051,4754,3804,3268,2442,5103,7304,5891,887,6948,1536,3968,4211,4635,-10034,2915,1729,1831,1308,2144,518,1781,1366,884,545,1318,996,1122,1410,721,772,3086,594,661,849,643,515,0,908,431,518,482,1787,466,482,-372,859,0,1647,658,664,251,159,294,394,334,318,332,240,167,249,314,427,502,396,323,181,219,355,585,307,363,334,232,248,334,400,419,564,301,200,301,388,444,442,0,0,1244,341,383,543,852,0,0,2045,666,875,1361,1400,0,0,4581,1358,1357,2615,2255,0,0,6361,1828,2031,2789,3092,0,0,8532,5760,2953,4088,4507,0,0,8618,3632,3172,7550,5479,0,0,16269,5114,6671,7039,8148,0,0,19382,7117,7296,9658,9779,0,null],[null,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,2,5,7,11,7,19,1,78,62,94,53,191,90,207,213,332,397,539,497,839,718,773,844,821,913,748,923,961,850,749,694,700,704,747,655,634,525,603,547,300,652,607,687,41,410,399,430,435,440,367,378,288,331,301,453,268,0,557,164,164,185,244,213,229,179,143,123,176,184,217,138,104,0,146,69,110,52,688,50,74,-1918,283,0,2,2,4,2,0,0,1,5,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1179,7,1,1,1,2,3,8,3,2,3,9,9,4,17,0,0,3,4,4,5,2,0,0,3,3,4,3,4,0,0,2,2,2,3,3,0,0,2,2,5,2,2,0,0,27,26,1,1,3,0,0,73,5,-2,26,12,0,0,29,24,127,16,25,0,0,34,52,47,25,15,0,null],[null,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,0,2,0,151,0,10,324,0,13,498,53,26,481,537,450,0,1219,1573,1648,2342,2928,2424,2071,2479,3388,4096,3770,3706,3861,2357,2771,4813,4144,3503,3441,3282,2336,2777,3349,3944,0,0,2560,3230,1927,3401,3335,3105,3353,2664,2503,1673,6399,3103,0,5198,1654,2441,2143,2516,2509,2637,2804,2214,973,1841,1843,2551,1409,1663,0,3930,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>confirmed<\/th>\n      <th>deaths<\/th>\n      <th>recovered<\/th>\n      <th>daily_confirmed<\/th>\n      <th>daily_death<\/th>\n      <th>daily_recovered<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[4,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
